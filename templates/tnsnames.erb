<% @tns_entries = scope().call_function('hiera_hash',['tns_entries']) -%>

<%= @facts['sid'] %> = 
  (DESCRIPTION =
    (ADDRESS = (PROTOCOL = TCP)(HOST = 10.47.74.188)(PORT = 2616)) 
     (CONNECT_DATA = 
       (SERVER = DEDICATED)
       (SID = <%= @facts['sid'] %>)
     )
   )

<%# This is how you do a comment block %>
<%
=begin %>
some text
<%
=end %>

<% @tns_entries.each do |entry| -%> 
	<%= $entry['cd00'] %>.IVV = 
  (DESCRIPTION =
  (ADDRESS = (PROTOCOL = TCP)(HOST = <%= $entry['address'] %>)(PORT = <%= $entry['port'] %>))
      (CONNECT_DATA =
        (SERVER = DEDICATED)
	(SID = <%= $entry['connection_name'] %>)
      )
  )
<% end -%>
